<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"><HTML>
<HEAD>
<TITLE>PK_FACE_output_surf_trimmed_o_t</TITLE>
<LINK rel="stylesheet" href="../ps_doc.css">
</HEAD>
<BODY bgcolor="#ffffff" link="#0F3A68" vlink="#878787" alink="#FF7600" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0" background="../images/background.gif">
<A NAME="topofdoc"></A>

<TABLE cellpadding=0 cellspacing=0 border=0 width=100%>
  <TR>
    <TD>&nbsp;<IMG src="../graphics/psbar_l.gif" border=0></TD>
    <TD align=RIGHT valign=CENTER>
        <FONT face="helvetica,arial" SIZE=5 class=NS28pt>
        <B>PK_FACE_output_surf_trimmed_o_t</B></FONT></TD>
    <TD>&nbsp;&nbsp;</TD>
  </TR>
</TABLE>

<A NAME="endofcontents"></A>
<PRE>

<A NAME="declaration"></A><B>struct PK_FACE_output_surf_trimmed_o_s
    {
    int                    o_t_version;     --- option structure version
    --- surface options
    <A HREF=../headers/pk_face_trim_surf_t.html>PK_FACE_trim_surf_t</A>    trim_surf;       --- what surface to use
                                            --- (PK_FACE_trim_surf_own_c)
    <A HREF=../headers/pk_logical_t.html>PK_LOGICAL_t</A>           cubic;           --- bsurf to be cubic
                                            --- (PK_LOGICAL_false)
    <A HREF=../headers/pk_logical_t.html>PK_LOGICAL_t</A>           non_rational;    --- bsurf to be non-rational
                                            --- (PK_LOGICAL_false)
    double                 surf_tolerance;  --- tolerance for creating bsurf
    <A HREF=../headers/pk_logical_t.html>PK_LOGICAL_t</A>           extend_surf;     --- is surface extension allowed
                                            --- (PK_LOGICAL_true)
    --- curve options
    <A HREF=../headers/pk_face_trim_confine_t.html>PK_FACE_trim_confine_t</A> confine;         --- confinement
                                            --- (PK_FACE_trim_confine_closed_c)
    double                 curve_tolerance; --- tolerance for creating spcurves
                                            --- (0.0001)
    <A HREF=../headers/pk_face_trim_degen_t.html>PK_FACE_trim_degen_t</A>   degen;           --- in/exclude degeneracies
                                            --- (PK_FACE_trim_degen_no_c)
    --- output options
    <A HREF=../headers/pk_logical_t.html>PK_LOGICAL_t</A>           want_geoms;      --- whether geometry required
                                            --- (PK_LOGICAL_false)
    <A HREF=../headers/pk_logical_t.html>PK_LOGICAL_t</A>           want_topols;     --- whether topology required
                                            --- (PK_LOGICAL_false)
    };

typedef struct PK_FACE_output_surf_trimmed_o_s
               PK_FACE_output_surf_trimmed_o_t;

</B>
<A NAME="description"></A>
<I>This option structure is used to select how a trimmed surface representation of
a face is to be constructed.
</I>
</PRE>
<h4>Used in:</h4>
<blockquote>
  <p>
    <A HREF=../headers/pk_face_output_surf_trimmed.html>PK_FACE_output_surf_trimmed</A><br>
  </p>
</blockquote>
<PRE>
<A NAME="documentation"></A>
The options are divided into Surface Options, SP-curve Options and Output
Options.


Surface Options
------- -------
The Surface whose parameter space is to be used can either be the surface
attached to the face, or a B-spline representation of that surface.

<B>'trim_surf'</B>     : PK_FACE_trim_surf_own_c    Use surface attached to face
                  (default)
                  PK_FACE_trim_surf_bsurf_c  Use a B-spline approximation

<B>'extend_surf'</B>   : allow extension of the surface to fit SP-curves that
                  stray outside.
                  (default = PK_LOGICAL_true)

When <B>'trim_surf'</B> is set to PK_FACE_trim_surf_bsurf_c 3 other options
may also be set:

<B>'surf_tolerance'</B>: maximum allowed distance between the face's surface and the
                  B-surface approximation.
                  (default = 0.00001)

<B>'cubic'</B>         : Force output of B-spline of degree 3

<B>'non_rational'</B>  : Force output of non-rational B-spline


No matter which type of surface is requested for output,
<A HREF=../headers/pk_face_output_surf_trimmed.html>PK_FACE_output_surf_trimmed</A> will by default extend it to fit SP-curves
approximating the face boundaries that stray outside of the natural
boundaries of the surface. The field <B>'extend_surf'</B> is provided to
switch off this default behaviour. When <B>'extend_surf'</B> is set to
PK_LOGICAL_false, <A HREF=../headers/pk_face_output_surf_trimmed.html>PK_FACE_output_surf_trimmed</A> will succeed as before,
however the returned surface will not be extended to include all
SP-curves in the output that pass outside the original bounds of
the surface's parameter space. Since negating <B>'extend_surf'</B> may lead to
output where SP-curves pass outside the natural boundaries of
the surface on which they lie, any application setting
this field to PK_LOGICAL_false must be able to deal with them.

SP-curve Options
-------- -------
There are 3 options available for the SP-curves which are to be constructed.

<B>'curve_tolerance'</B> : Allows specification of the tolerance which the SP-curve
                    representations of the edges should satisfy.
                    (default = 0.0001)

<B>'confine'</B>         : selects the trimmimg configuration.
                    See documentation for <A HREF=../headers/pk_face_trim_confine_t.html>PK_FACE_trim_confine_t</A>.
                    (default PK_FACE_trim_confine_closed_c)

<B>'degen'</B>           : selects whether to represent surface degeneracies.
                    See documentation for <A HREF=../headers/pk_face_trim_degen_t.html>PK_FACE_trim_degen_t</A>.
                    (default PK_FACE_trim_degen_no_c)

As indicated above the SP-curve tolerance may be specified, this is a distance
tolerance in model units and refers to the maximum allowable distance
between an SP-curve and the edge curve that it represents. Although
extensive tolerance checking is carried out, and the accuracy of
the representation will usually satisfy the supplied tolerance,
this cannot be guaranteed.

When using a B-spline surface approximation, care must be taken when supplying
the tolerance. The surface approximation needs to be accurate enough for the
SP-curves to satisfy their tolerance. It is suggested that the <B>'surf_tolerance'</B>
should be no greater than half the <B>'curve_tolerance'</B>.

The tolerance is ignored for edges of the face that are already tolerant and
have an SP-curve of degree 1 or 2 ( lying in the surface to be returned )
attached. In this case the appropriate trimmed section of the present SP-curve
will be returned without approximation.

If the required tolerance cannot be met then the function will fail with
PK_ERROR_tolerances_too_tight indicating that a larger tolerance may allow a
successful approximation. Similarly there are occasions on which the curve
tolerance specified may be so large that the face will appear, to the function
to be nothing more than a wire. In such cases, rather than output degenerate
loops, the error PK_ERROR_trim_loop_degenerate will be returned.
Setting a smaller tolerance may result in a successful attempt to produce
trimmed surface output.


Output Options
------ -------

There are just two options related to the quantity of data returned. Each
option is provided to indicate that the output arrays holding
information associated with a trim loop is required.

<B>'want_geoms'</B>   : Requests the return of the array of geometries (<B>'geoms'</B>)
                 and bounding intervals (<B>'intervals'</B>) associated with the
                 SP-curves in the <A HREF=../headers/pk_surf_trim_data_t.html>PK_SURF_trim_data_t</A>.
                 (default = PK_LOGICAL_false)

<B>'want_topols'</B>  : Requests the return of the list of model topologies
                 (<B>'topols'</B>) associated with the SP-curves in the
                 <A HREF=../headers/pk_surf_trim_data_t.html>PK_SURF_trim_data_t</A>.
                 (default = PK_LOGICAL_false)


</PRE>

<SCRIPT type="text/JavaScript" language="JavaScript">
<!-- 
// Change date to a readable format
function to_utc(date)
{var utc = date.toUTCString();return utc;}

// get last modified date of the current document.
function date_lastmodified()
{var mod = document.lastModified, s = "Unknown", d1;
 if(0 != (d1=Date.parse(mod)))
  {s = to_utc(new Date(d1));}
 return s;}	
// display the last modified date
document.write("<ADDRESS>Generated on: " + date_lastmodified() + "</ADDRESS>");
// -->
</SCRIPT>
</BODY>
</HTML>
