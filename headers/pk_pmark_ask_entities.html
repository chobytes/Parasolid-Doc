<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"><HTML>
<HEAD>
<TITLE>PK_PMARK_ask_entities</TITLE>
<LINK rel="stylesheet" href="../ps_doc.css">
</HEAD>
<BODY bgcolor="#ffffff" link="#0F3A68" vlink="#878787" alink="#FF7600" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0" background="../images/background.gif">
<A NAME="topofdoc"></A>

<TABLE cellpadding=0 cellspacing=0 border=0 width=100%>
  <TR>
    <TD>&nbsp;<IMG src="../graphics/psbar_l.gif" border=0></TD>
    <TD align=RIGHT valign=CENTER>
        <FONT face="helvetica,arial" SIZE=5 class=NS28pt>
        <B>PK_PMARK_ask_entities</B></FONT></TD>
    <TD>&nbsp;&nbsp;</TD>
  </TR>
</TABLE>

<A NAME="endofcontents"></A>
<PRE>

<A NAME="declaration"></A><B><A HREF=../headers/pk_error_code_t.html>PK_ERROR_code_t</A>                  PK_PMARK_ask_entities
(
<I>--- received arguments ---
</I><A HREF=../headers/pk_pmark_t.html>PK_PMARK_t</A>                       pmark,         --- destination pmark
const <A HREF=../headers/pk_pmark_ask_entities_o_t.html>PK_PMARK_ask_entities_o_t</A> *options,       --- options structure

<I>--- returned arguments ---
</I>int                       *const n_new,         --- number of entities created
int                      **const new_entities,  --- entities created
int                       *const n_mod,         --- number of entities modified
int                      **const mod_entities,  --- entities modified
int                       *const n_del,         --- number of entities deleted
int                      **const del_entities   --- entities deleted
)
</B>
<A NAME="description"></A>
<I>This function returns the entities that would be created, modified and deleted
if rolling to the destination <B>'pmark'</B>.
</I>
<A NAME="errors"></A>
<B>Specific Errors:</B>
    PK_ERROR_rollback_not_started   (MILD) Partitioned rollback is not active
    PK_ERROR_bad_mark               (MILD) Bad partition mark to roll from
    PK_ERROR_frustrum_failure       (MILD) The frustrum returned an error

<A NAME="documentation"></A>
The behaviour is the same as <A HREF=../headers/pk_pmark_goto_2.html>PK_PMARK_goto_2</A>, except that the modeller state is
not changed.  If the option <B>'from_pmark'</B> is used to specify a pmark then the
behaviour is as though the partition were initially rolled to that pmark. In
this case, the pmarks must be in the same partition.

This function should only be called when partitioned rollback has been started
by calling <A HREF=../headers/pk_delta_register_callbacks.html>PK_DELTA_register_callbacks</A>.

Further rollback tracking controls can be specified in <B>'options'</B>.

The <B>'mod_entities'</B> list is generated using internal data structure changes.  It
is not recommended for this list to be used in application tracking for the
following reasons:

    o Some changes (as perceived by the application) may not be present in the
      list.
    o Although all changed attributes ARE included in the list, some additional
      entries may also be present.

</PRE>

<SCRIPT type="text/JavaScript" language="JavaScript">
<!-- 
// Change date to a readable format
function to_utc(date)
{var utc = date.toUTCString();return utc;}

// get last modified date of the current document.
function date_lastmodified()
{var mod = document.lastModified, s = "Unknown", d1;
 if(0 != (d1=Date.parse(mod)))
  {s = to_utc(new Date(d1));}
 return s;}	
// display the last modified date
document.write("<ADDRESS>Generated on: " + date_lastmodified() + "</ADDRESS>");
// -->
</SCRIPT>
</BODY>
</HTML>
