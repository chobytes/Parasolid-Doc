<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"><HTML>
<HEAD>
<TITLE>PK_REGION_embed_lattices</TITLE>
<LINK rel="stylesheet" href="../ps_doc.css">
</HEAD>
<BODY bgcolor="#ffffff" link="#0F3A68" vlink="#878787" alink="#FF7600" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0" background="../images/background.gif">
<A NAME="topofdoc"></A>

<TABLE cellpadding=0 cellspacing=0 border=0 width=100%>
  <TR>
    <TD>&nbsp;<IMG src="../graphics/psbar_l.gif" border=0></TD>
    <TD align=RIGHT valign=CENTER>
        <FONT face="helvetica,arial" SIZE=5 class=NS28pt>
        <B>PK_REGION_embed_lattices</B></FONT></TD>
    <TD>&nbsp;&nbsp;</TD>
  </TR>
</TABLE>

<A NAME="endofcontents"></A>
<PRE>

<A NAME="declaration"></A><B><A HREF=../headers/pk_error_code_t.html>PK_ERROR_code_t</A>                     PK_REGION_embed_lattices
(
<I>--- received arguments ---
</I><A HREF=../headers/pk_region_t.html>PK_REGION_t</A>                         region,      --- region
int                                 n_lattices,  --- number of lattices
const <A HREF=../headers/pk_lattice_t.html>PK_LATTICE_t</A>                  lattices[],  --- lattices to embed
const <A HREF=../headers/pk_logical_t.html>PK_LOGICAL_t</A>                  senses[],    --- frame senses
const <A HREF=../headers/pk_region_embed_lattices_o_t.html>PK_REGION_embed_lattices_o_t</A> *options,     --- options structure

<I>--- returned arguments ---
</I><A HREF=../headers/pk_region_embed_lattices_r_t.html>PK_REGION_embed_lattices_r_t</A> *const results      --- results structure
)
</B>
<A NAME="description"></A>
<I>This function embeds the supplied <B>'lattices'</B> in the given <B>'region'</B>.
</I>
<A NAME="errors"></A>
<B>Specific Errors:</B>
    PK_ERROR_already_embedded       A lattice in <B>'lattices'</B> is already embedded
                                    in the supplied <B>'region'</B> (MILD).
    PK_ERROR_bad_shared_entity      A lattice would be illegally shared (MILD).
    PK_ERROR_wrong_entity           An attribute selected to be transferred
                                    to the frame may not be owned by a frame or
                                    is of class 2, 3, or 5. (MILD).
    PK_ERROR_cant_embed_lattice     A lattice in <B>'lattices'</B> cannot be embedded
                                    because the <B>'region'</B> is void. This
                                    includes the exterior void (MILD).

<A NAME="documentation"></A>
This function embeds the supplied <B>'lattices'</B> by attaching each lattice to a
newly created frame, and attaching this frame to the given <B>'region'</B>.
<B>'frames'</B> are optionally returned with the <B>'want_frames'</B> option.
Currently only a single lattice may be embedded in a region (i.e. <B>'n_lattices'</B>
must be set to 1).

The arrays <B>'lattices'</B> and <B>'senses'</B> are both of length <B>'n_lattices'</B>.

    o  If `senses[i]' is PK_LOGICAL_true then the interior of `lattices[i]' is
       considered solid.
    o  If `senses[i]' is PK_LOGICAL_false then the interior of `lattices[i]' is
       considered void.

The <B>'region'</B> must be solid for this function to successfully embed the
<B>'lattices'</B>. If the <B>'region'</B> is void, then PK_ERROR_cant_embed_lattice will be
returned and the <B>'region'</B> will be unchanged. This includes the exterior void.

If a lattice is embedded into a solid <B>'region'</B> with sense = PK_LOGICAL_true,
the <B>'region'</B> will be made void. This is done to ensure the <B>'lattices'</B> and the
<B>'region'</B> have opposing solidities.

When a lattice is embedded into the <B>'region'</B>, irrespective of whether the
lattice had sense PK_LOGICAL_true or PK_LOGICAL_false, the body which
owns the <B>'region'</B> will become of type PK_BODY_type_general_c if it is
not already.

PK_REGION_embed_lattices will not copy any lattices, so no lattice may belong
to a different body, and all lattices must be in the same partition as the
body of the <B>'region'</B>.

If the <B>'region'</B> possesses a density attribute (SDL/TYSA_REGION_DENSITY), and a
solid lattice is to be embedded, then the <B>'region'</B> density is copied to
a new frame density attribute (SDL/TYSA_FRAME_DENSITY), which is attached to
the frame after embedding. The density attribute which remains on the void
region after lattice embedding will be considered inactive.  If the <B>'region'</B>
possesses a density attribute, and a void lattice is to be embedded, the
region density is left on the region unchanged.

Optionally, additional attributes that may be owned by both both regions and
frames may also be transferred to the frame upon embedding a lattice. See
the options structure for further details.

Optionally, the user may specify whether they wish to add the newly created
frame to any groups where the <B>'region'</B> is a member or whether they wish for the
frame to replace the <B>'region'</B> in any groups where it is a member. See the
options structure for further details.

</PRE>

<SCRIPT type="text/JavaScript" language="JavaScript">
<!-- 
// Change date to a readable format
function to_utc(date)
{var utc = date.toUTCString();return utc;}

// get last modified date of the current document.
function date_lastmodified()
{var mod = document.lastModified, s = "Unknown", d1;
 if(0 != (d1=Date.parse(mod)))
  {s = to_utc(new Date(d1));}
 return s;}	
// display the last modified date
document.write("<ADDRESS>Generated on: " + date_lastmodified() + "</ADDRESS>");
// -->
</SCRIPT>
</BODY>
</HTML>
