<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"><HTML>
<HEAD>
<TITLE>PK_EDGE_set_blend_chain_o_t</TITLE>
<LINK rel="stylesheet" href="../ps_doc.css">
</HEAD>
<BODY bgcolor="#ffffff" link="#0F3A68" vlink="#878787" alink="#FF7600" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0" background="../images/background.gif">
<A NAME="topofdoc"></A>

<TABLE cellpadding=0 cellspacing=0 border=0 width=100%>
  <TR>
    <TD>&nbsp;<IMG src="../graphics/psbar_l.gif" border=0></TD>
    <TD align=RIGHT valign=CENTER>
        <FONT face="helvetica,arial" SIZE=5 class=NS28pt>
        <B>PK_EDGE_set_blend_chain_o_t</B></FONT></TD>
    <TD>&nbsp;&nbsp;</TD>
  </TR>
</TABLE>

<A NAME="endofcontents"></A>
<PRE>

<A NAME="declaration"></A><B>struct PK_EDGE_set_blend_chain_o_s
    {
    int                     o_t_version;     --- options struct version
    <A HREF=../headers/pk_blend_xs_shape_t.html>PK_blend_xs_shape_t</A>     xs_shape;        --- cross-section shape
                                             --- (<A HREF=../headers/pk_blend_xs_shape_t.html>PK_blend_xs_shape_conic_c</A>)
                                             --- [PF]
    int                     n_positions;     --- number of given positions (0)
    <A HREF=../headers/pk_vector_t.html>PK_VECTOR_t</A>            *positions;       --- positions where the blend
                                             --- parameters apply (NULL)
    double                 *primary_sizes;   --- size parameter array on
                                             --- primary side of blend (NULL)
                                             --- [PF]
    double                 *secondary_sizes; --- size parameter array on
                                             --- secondary side of blend (NULL)
                                             --- [PF]
    double                 *rhos;            --- array of rho values (NULL)
                                             --- [NF]
    <A HREF=../headers/pk_blend_size_t.html>PK_blend_size_t</A>         primary_size_type;
                                             --- interpretation of
                                             --- <B>'primary_sizes'</B>
                                             --- (<A HREF=../headers/pk_blend_size_t.html>PK_blend_size_face_offset_c</A>)
    <A HREF=../headers/pk_blend_size_t.html>PK_blend_size_t</A>         secondary_size_type;
                                             --- interpretation of
                                             --- <B>'secondary_sizes'</B>
                                             --- (<A HREF=../headers/pk_blend_size_t.html>PK_blend_size_face_offset_c</A>)
    <A HREF=../headers/pk_blend_rho_t.html>PK_blend_rho_t</A>          rho_type;        --- interpretation of rho values
                                             --- (<A HREF=../headers/pk_blend_rho_t.html>PK_blend_rho_absolute_c</A>) [NF]
    int                     n_primary_fins;  --- number of primary fins (0)
    <A HREF=../headers/pk_fin_t.html>PK_FIN_t</A>               *primary_fins;    --- fins identifying primary side
                                             --- of the blend (NULL)
    int                     n_mitre_fins;    --- length of <B>'mitre_fins'</B> array
                                             --- (0)
    <A HREF=../headers/pk_fin_t.html>PK_FIN_t</A>               *mitre_fins;      --- array of fins indicating how
                                             --- to handle coincident positions
                                             --- (NULL)
    int                    *mitre_fins_indices;
                                             --- indices in <B>'positions'</B> to
                                             --- which the <B>'mitre_fins'</B> pertain
                                             --- (NULL)
    int                     n_clamp_indices; --- length of <B>'clamp_indices'</B> (0)
    int                    *clamp_indices;   --- indices in <B>'positions'</B> at
                                             --- which to hold the parameters'
                                             --- rates of change at zero (NULL)
    <A HREF=../headers/pk_blend_ov_smooth_t.html>PK_blend_ov_smooth_t</A>    ov_smooth;       --- control smooth overflow
                                             --- (<A HREF=../headers/pk_blend_ov_smooth_t.html>PK_blend_ov_smooth_diff_c</A>)
                                             --- [PF]
    <A HREF=../headers/pk_blend_ov_cliff_t.html>PK_blend_ov_cliff_t</A>     ov_cliff;        --- control cliff edge overflow
                                             --- (<A HREF=../headers/pk_blend_ov_cliff_t.html>PK_blend_ov_cliff_diff_c</A>)
                                             --- [PF]
    <A HREF=../headers/pk_blend_ov_cliff_end_t.html>PK_blend_ov_cliff_end_t</A> ov_cliff_end;    --- control cliff edge end
                                             --- overflow
                                             --- (<A HREF=../headers/pk_blend_ov_cliff_end_t.html>PK_blend_ov_cliff_end_no_c</A>)
                                             --- [NF]
    <A HREF=../headers/pk_blend_ov_notch_t.html>PK_blend_ov_notch_t</A>     ov_notch;        --- control notch overflow
                                             --- (<A HREF=../headers/pk_blend_ov_notch_t.html>PK_blend_ov_notch_yes_c</A>)
    double                  tolerance;       --- tolerance for blend surfaces
                                             --- (1.0e-5)
    };

typedef struct PK_EDGE_set_blend_chain_o_s PK_EDGE_set_blend_chain_o_t;
</B>
<A NAME="description"></A>
<I>Holds optional controls for setting blends on a chain of edges.
</I>
</PRE>
<h4>Used in:</h4>
<blockquote>
  <p>
    <A HREF=../headers/pk_edge_set_blend_chain.html>PK_EDGE_set_blend_chain</A><br>
  </p>
</blockquote>
<PRE>
<A NAME="documentation"></A>
Description of fields:

    <B>'xs_shape'</B>
        This option controls the cross-sectional shape of the blend. It may be
        set to <A HREF=../headers/pk_blend_xs_shape_t.html>PK_blend_xs_shape_conic_c</A> for a blend with a circular or conic
        cross-section, <A HREF=../headers/pk_blend_xs_shape_t.html>PK_blend_xs_shape_g2_c</A> for a curvature-continuous
        cross-section, or <A HREF=../headers/pk_blend_xs_shape_t.html>PK_blend_xs_shape_chamfer_c</A> for a linear
        cross-section.

        If this option is set to <A HREF=../headers/pk_blend_xs_shape_t.html>PK_blend_xs_shape_g2_c</A>, <B>'rho_type'</B> must be
        set to <A HREF=../headers/pk_blend_rho_t.html>PK_blend_rho_absolute_c</A>, <B>'ov_cliff'</B> must be set to
        <A HREF=../headers/pk_blend_ov_cliff_t.html>PK_blend_ov_cliff_no_c</A> and <B>'ov_cliff_end'</B> must be set to
        <A HREF=../headers/pk_blend_ov_cliff_end_t.html>PK_blend_ov_cliff_end_no_c</A>.

        If this option is set to <A HREF=../headers/pk_blend_xs_shape_t.html>PK_blend_xs_shape_chamfer_c</A>, <B>'n_positions'</B>
        must be exactly 2. Both members of <B>'primary_sizes'</B> should be equal and
        should also equal both members of <B>'secondary_sizes'</B>, if not NULL.

        This option must be set to either <A HREF=../headers/pk_blend_xs_shape_t.html>PK_blend_xs_shape_conic_c</A> or
        <A HREF=../headers/pk_blend_xs_shape_t.html>PK_blend_xs_shape_chamfer_c</A> for facet geometry. If set to
        <A HREF=../headers/pk_blend_xs_shape_t.html>PK_blend_xs_shape_conic_c</A> then <B>'n_positions'</B> must be exactly 2, both
        members of <B>'primary_sizes'</B> should be equal and, if not NULL, should
        also equal both members of <B>'secondary_sizes'</B>.

    <B>'n_positions'</B>
        The number of positions at which to specify numerical blend parameters
        (i.e. <B>'primary_sizes'</B>, <B>'secondary_sizes'</B> and <B>'rhos'</B>, when supplied)
        along the blend chain. This number should be at least 2.

    <B>'positions'</B>
        An array of <A HREF=../headers/pk_vector_t.html>PK_VECTOR_t</A> specifying where the blend parameters with the
        same array index apply along the blend chain. The length of this array
        should be <B>'n_positions'</B>. All positions specified here should lie on an
        edge in the chain. If the edge chain is open, one position should be at
        the start of the chain, and another at the end of the chain. If the
        chain is closed and only two positions are specified, then these
        positions may be equal provided their associated sizes are also
        equal.

        A position may occur twice at a vertex between two of the edges in the
        chain provided that:
         1. the two edges do not meet smoothly at the vertex; and
         2. there are entries in <B>'mitre_fins'</B> and <B>'mitre_fins_indices'</B> to
            indicate on which of the two edges the associated parameters apply.

    <B>'primary_sizes'</B>
        The blend's range as defined by <B>'primary_size_type'</B> on the primary
        side of the blend (if identified using <B>'primary_fins'</B>), or both sides
        if the blend is symmetric. For a symmetric blend, only this size array
        needs to be given. This array's length should be <B>'n_positions'</B>.

    <B>'secondary_sizes'</B>
        As <B>'primary_sizes'</B>, except for the secondary side of the blend (as
        identified by <B>'primary_fins'</B>). This may be set to NULL, in which case
        the blend will be created as if this array were the same as
        <B>'primary_sizes'</B> (i.e., a symmetric blend). If <B>'secondary_sizes'</B> is not
        NULL, then its length must be <B>'n_positions'</B>, and <B>'primary_sizes'</B> and
        <B>'primary_fins'</B> must also be specified.

     <B>'rhos'</B>
        An array of blend rho parameters. If specified, this array should have
        length <B>'n_positions'</B> and the same index convention as <B>'primary_sizes'</B>.
        This may be set to NULL, in which case the blend will be created as
        if all of this array's entries were 0.0.

        The rhos must either be all zero, or all be greater than zero. If
        <B>'rho_type'</B> is set to <A HREF=../headers/pk_blend_rho_t.html>PK_blend_rho_absolute_c</A> or <A HREF=../headers/pk_blend_rho_t.html>PK_blend_rho_relative_c</A>
        then all the rhos should be less than one.

        When setting a blend with the <B>'xs_shape'</B> option set to
        <A HREF=../headers/pk_blend_xs_shape_t.html>PK_blend_xs_shape_conic_c</A>, if the primary and secondary sizes at each
        position are equal and all rhos are zero, then the blend will have
        circular cross section. Otherwise the blend will have conic cross-
        section.

        When setting a blend with the <B>'xs_shape'</B> option set to
        <A HREF=../headers/pk_blend_xs_shape_t.html>PK_blend_xs_shape_g2_c</A>, if all rhos are zero, the cross-section will be
        curvature-continuous with automatic depth control. Otherwise, the rhos
        are taken to specify the depth of the curvature-continuous blend
        cross-section.

        When setting a blend with <B>'xs_shape'</B> option set to
        <A HREF=../headers/pk_blend_xs_shape_t.html>PK_blend_xs_shape_chamfer_c</A> <B>'rhos'</B> must be set to NULL.

    <B>'primary_size_type'</B>
    <B>'secondary_size_type'</B>
        These options control how the sizes given in <B>'primary_sizes'</B> and
        <B>'secondary_sizes'</B> are interpreted.

        If set to <A HREF=../headers/pk_blend_size_t.html>PK_blend_size_face_offset_c</A> then the size represents the
        blend's offset range from the underlying surface on that side.

        If set to <A HREF=../headers/pk_blend_size_t.html>PK_blend_size_apex_range_c</A> then the size represents the range
        between the contact point on that side and the blend's apex.

        If set to <A HREF=../headers/pk_blend_size_t.html>PK_blend_size_angle_c</A> then the size represents the angle made
        by the chord between the contact points and the tangent plane of the
        contact point on the other side. The values in this size array must
        then be between 0 and pi.

        If set to <A HREF=../headers/pk_blend_size_t.html>PK_blend_size_width_c</A> then the size represents the width of a
        constant width blend.

        If set to <A HREF=../headers/pk_blend_size_t.html>PK_blend_size_ratio_c</A> then the size represents the ratio of
        blend ranges for a constant width blend. The ratio is defined as "range
        off primary side"/"range off secondary side". Values of 1.0 in the
        associated *_sizes array will produce a symmetric blend.

        Valid combinations of <B>'primary_size_type'</B> and <B>'secondary_size_type'</B> can
        be found in the below table.

        -------------------------------------------------------------------
        | <B>'primary_size_type'</B>            | <B>'secondary_size_type'</B>          |
        -------------------------------------------------------------------
        | <A HREF=../headers/pk_blend_size_t.html><A HREF=../headers/pk_blend_size_t.html>PK_blend_size_face_offset_c</A></A>    | <A HREF=../headers/pk_blend_size_t.html><A HREF=../headers/pk_blend_size_t.html>PK_blend_size_face_offset_c</A></A>    |
        |                                |                                |
        | <A HREF=../headers/pk_blend_size_t.html><A HREF=../headers/pk_blend_size_t.html>PK_blend_size_apex_range_c</A></A>     | <A HREF=../headers/pk_blend_size_t.html><A HREF=../headers/pk_blend_size_t.html>PK_blend_size_apex_range_c</A></A>     |
        |                                |                                |
        | <A HREF=../headers/pk_blend_size_t.html>PK_blend_size_apex_range_c</A>     | <A HREF=../headers/pk_blend_size_t.html>PK_blend_size_angle_c</A>          |
        |                                |                                |
        | <A HREF=../headers/pk_blend_size_t.html>PK_blend_size_angle_c</A>          | <A HREF=../headers/pk_blend_size_t.html>PK_blend_size_apex_range_c</A>     |
        |                                |                                |
        | <A HREF=../headers/pk_blend_size_t.html>PK_blend_size_width_c</A>          | <A HREF=../headers/pk_blend_size_t.html>PK_blend_size_ratio_c</A>          |
        -------------------------------------------------------------------

        If <B>'primary_size_type'</B> and <B>'secondary_size_type'</B> are both set to
        either <A HREF=../headers/pk_blend_size_t.html>PK_blend_size_face_offset_c</A> or PK_blend_apex_range_c, then
        <B>'secondary_sizes'</B> may be set to NULL and the blend will be symmetric.

        If these options are set to any combination of
        <A HREF=../headers/pk_blend_size_t.html>PK_blend_size_apex_range_c</A> and <A HREF=../headers/pk_blend_size_t.html>PK_blend_size_angle_c</A> then <B>'xs_shape'</B>
        must be set to <A HREF=../headers/pk_blend_xs_shape_t.html>PK_blend_xs_shape_chamfer_c</A>.

        If these options are set to <A HREF=../headers/pk_blend_size_t.html>PK_blend_size_width_c</A> and
        <A HREF=../headers/pk_blend_size_t.html>PK_blend_size_ratio_c</A> then <B>'xs_shape'</B> must be set to
        PK_blend_xs_conic_c and <B>'n_positions'</B> must be exactly 2. Both members
        of <B>'primary_sizes'</B> should be equal and both members of
        <B>'secondary_sizes'</B> should be equal, if not NULL. If <B>'secondary_sizes'</B> is
        NULL, values of 1.0 will be used.

        If these options are set to any value other than
        <A HREF=../headers/pk_blend_size_t.html>PK_blend_size_face_offset_c</A> and the chain contains a mixed edge then
        <B>'ov_smooth'</B> must be set to <A HREF=../headers/pk_blend_ov_smooth_t.html>PK_blend_ov_smooth_no_c</A>.

        See <A HREF="../chapters/fd_chap.077.html#50409864_pgfId-1111843">here</A> for more information.

    For positions on the interior of an open chain, or anywhere on a closed
    chain, the corresponding elements of <B>'primary_sizes'</B> and <B>'secondary_sizes'</B>
    must be greater than zero. For a position at the start or end of an open
    chain, the corresponding member of <B>'primary_sizes'</B> may be set to zero; if
    <B>'secondary_sizes'</B> is given, the corresponding element must also be zero.
    If an open chain's sizes are zero at both ends, at least one positive size
    must be specified somewhere in the interior of the chain. If <B>'xs_shape'</B> is
    set to <A HREF=../headers/pk_blend_xs_shape_t.html>PK_blend_xs_shape_chamfer_c</A> and <B>'size_type'</B> is
    <A HREF=../headers/pk_blend_size_t.html>PK_blend_size_face_offset_c</A> then the sizes can be negative.

    <B>'rho_type'</B>
        This option controls how <B>'rhos'</B> is interpreted when creating conic-
        shaped blends.

        If <B>'rho_type'</B> is set to <A HREF=../headers/pk_blend_rho_t.html>PK_blend_rho_absolute_c</A>, <B>'rhos'</B> are independent
        of the angle subtended by the blend.

        If <B>'rho_type'</B> is set to <A HREF=../headers/pk_blend_rho_t.html>PK_blend_rho_relative_c</A>, <B>'rhos'</B> are relative to
        the angle subtended by the blend. For example, a relative rho value of
        0.5 will produce a circular or least tension elliptical conic, while an
        absolute rho value of 0.5 will produce a parabolic conic.

        If <B>'rho_type'</B> is set to <A HREF=../headers/pk_blend_rho_t.html>PK_blend_rho_centre_c</A>, the <B>'rhos'</B> are the radii
        of curvature at the centre of the conic blend cross-section.

    <B>'n_primary_fins'</B>
        The length of <B>'primary_fins'</B>. This may be 0 only for blends with
        symmetric cross-sections; otherwise it must be 1 or greater.

    <B>'primary_fins'</B>
        This option identifies the primary side of the blend chain by
        specifying fins lying on that side. Any number of fins may be given,
        but at least one of these fins should be on an edge in the blended
        edge chain. They should all lie on the same side of the chain; if fins
        are supplied from both sides, PK_ERROR_bad_orientation will be
        returned.

        This option is used to determine the shape of blends with asymmetric
        cross sections (i.e. where <B>'secondary_sizes'</B> is non-NULL and differs
        from <B>'primary_sizes'</B>) and only required to be supplied in such cases;
        otherwise it may be NULL.

        <A HREF=../headers/pk_edge_set_blend_chain.html>PK_EDGE_set_blend_chain</A> propagates these fins along the whole of the
        chain, and returns the complete list via its <B>'primary_fins'</B> argument.

    <B>'n_mitre_fins'</B>
        The length of <B>'mitre_fins'</B>. If <B>'primary_size_type'</B> or
        <B>'secondary_size_type'</B> are set to <A HREF=../headers/pk_blend_size_t.html>PK_blend_size_width_c</A> or
        <A HREF=../headers/pk_blend_size_t.html>PK_blend_size_ratio_c</A>, <B>'n_mitre_fins'</B> must be zero.

    <B>'mitre_fins'</B>
        An array of fins indicating how to apply the blend parameters at a
        vertex where edges in the chain do not meet smoothly (where two
        different blend parameters might be specified). mitre_fins[i] should
        point towards the vertex at positions[mitre_fins_indices[i]], and be
        attached to an edge in the chain at that vertex. The parameters with
        index mitre_fins_indices[i] apply to mitre_fin[i]'s side of the
        vertex.

        All members of <B>'mitre_fins'</B> should be unique.

        Each (position, mitre_fin) pair should be unique across the chain. If
        an entry in <B>'positions'</B> is unique, a mitre fin should not be specified.
        If all elements of <B>'positions'</B> are unique, the array <B>'mitre_fins'</B>
        itself may be NULL, and <B>'n_mitre_fins'</B> set to 0.

    <B>'mitre_fins_indices'</B>
        An array of integers of length <B>'n_mitre_fins'</B>. mitre_fins_indices[i]
        should contain the index in <B>'positions'</B> (see above) of where
        mitre_fins[i] ends, which is also the index of the size and rho
        parameters that apply on the side of the vertex where mitre_fins[i]
        lies.

        All members of <B>'mitre_fins_indices'</B> should be unique, and they should
        be in pairs correponding to common GEOMETRICAL positions in
        <B>'positions'</B>.

    <B>'n_clamp_indices'</B>
        The length of <B>'clamp_indices'</B>. If <B>'primary_size_type'</B> or
        <B>'secondary_size_type'</B> are set to <A HREF=../headers/pk_blend_size_t.html>PK_blend_size_width_c</A> or
        <A HREF=../headers/pk_blend_size_t.html>PK_blend_size_ratio_c</A>, <B>'n_clamp_indices'</B> must be zero.

    <B>'clamp_indices'</B>
        An array of integers of length <B>'n_clamp_indices'</B>. clamp_indices[i]
        should contain the index in <B>'positions'</B> (see above) of where the rate
        of change of the blend parameters is to be held at zero.

    Overflow properties: When fixing a blend, it is possible that the blend as
    defined by its parameters would lie outside the faces adjacent to the edge
    being blended. If this is so, the blend must "overflow". If
    <B>'primary_size_type'</B> or <B>'secondary_size_type'</B> are set to
    <A HREF=../headers/pk_blend_size_t.html>PK_blend_size_width_c</A> or <A HREF=../headers/pk_blend_size_t.html>PK_blend_size_ratio_c</A>, <B>'ov_cliff'</B> must be set to
    <A HREF=../headers/pk_blend_ov_cliff_t.html>PK_blend_ov_cliff_no_c</A> and <B>'ov_cliff_end'</B> must be set to
    <A HREF=../headers/pk_blend_ov_cliff_end_t.html>PK_blend_ov_cliff_end_no_c</A>.

    <B>'ov_smooth'</B>
        If the configuration allows us, we "smoothly overflow" and create a
        blend one of whose underlying faces is the one onto which it has
        overflowed.
        This option must be set to either <A HREF=../headers/pk_blend_ov_smooth_t.html>PK_blend_ov_smooth_no_c</A> or
        <A HREF=../headers/pk_blend_ov_smooth_t.html>PK_blend_ov_smooth_any_c</A> for facet geometry.

    <B>'ov_cliff'</B>
        If the configuration is unsuitable for smooth overflow, we try to
        "cliff overflow" - that is replace the appropriate section of the blend
        by a cliffedge blend running along the appropriate edges.
        This option must be set to <A HREF=../headers/pk_blend_ov_cliff_t.html>PK_blend_ov_cliff_no_c</A> for facet geometry.

    <B>'ov_cliff_end'</B>
        If the configuration is unsuitable for cliff overflow, we try to
        "cliff-end overflow" - that is replace the appropriate section of the
        blend by a cliffedge blend at the ends of the appropriate edges.

    <B>'ov_notch'</B>
        If the configuration is unsuitable for cliff overflow too, we will then
        "notch overflow" - that is, merely trim the blend by the other faces in
        the region, leaving its surface geometry unchanged. If the
        configuration is unsuitable for this as well, the blend will not fix.

    By default neither cliffedge nor smooth overflows will occur when the edge
    being overflowed is of the same convexity as the edge being blended.
    By default also, cliffedge overflows will not occur at the ends of blends,
    except where they meet another blend smoothly.

    Further information on the `ov_*' fields' values may be found in the
    documentation for their respective `PK_blend_ov_*_t' types.

    <B>'tolerance'</B>
        Sets the tolerance for the blend surfaces. The default tolerance is
        1000 * (modeller resolution).


</PRE>

<SCRIPT type="text/JavaScript" language="JavaScript">
<!-- 
// Change date to a readable format
function to_utc(date)
{var utc = date.toUTCString();return utc;}

// get last modified date of the current document.
function date_lastmodified()
{var mod = document.lastModified, s = "Unknown", d1;
 if(0 != (d1=Date.parse(mod)))
  {s = to_utc(new Date(d1));}
 return s;}	
// display the last modified date
document.write("<ADDRESS>Generated on: " + date_lastmodified() + "</ADDRESS>");
// -->
</SCRIPT>
</BODY>
</HTML>
