<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"><HTML>
<HEAD>
<TITLE>PK_FACE_instance_tools</TITLE>
<LINK rel="stylesheet" href="../ps_doc.css">
</HEAD>
<BODY bgcolor="#ffffff" link="#0F3A68" vlink="#878787" alink="#FF7600" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0" background="../images/background.gif">
<A NAME="topofdoc"></A>

<TABLE cellpadding=0 cellspacing=0 border=0 width=100%>
  <TR>
    <TD>&nbsp;<IMG src="../graphics/psbar_l.gif" border=0></TD>
    <TD align=RIGHT valign=CENTER>
        <FONT face="helvetica,arial" SIZE=5 class=NS28pt>
        <B>PK_FACE_instance_tools</B></FONT></TD>
    <TD>&nbsp;&nbsp;</TD>
  </TR>
</TABLE>

<A NAME="endofcontents"></A>
<PRE>

<A NAME="declaration"></A><B><A HREF=../headers/pk_error_code_t.html>PK_ERROR_code_t</A>               PK_FACE_instance_tools
(
<I>--- received arguments ---
</I>int                           n_target_faces, --- number of target faces (&gt;0)
const <A HREF=../headers/pk_face_t.html>PK_FACE_t</A>               target_faces[], --- target faces
int                           n_tool_faces,   --- number of tool faces (&gt;0)
const <A HREF=../headers/pk_face_t.html>PK_FACE_t</A>               tool_faces[],   --- tool faces to be instanced
int                           n_transforms,   --- number of transforms (&gt;0)
const <A HREF=../headers/pk_transf_t.html>PK_TRANSF_t</A>             transforms[],   --- instancing transforms
const <A HREF=../headers/pk_face_boolean_o_t.html>PK_FACE_boolean_o_t</A>    *options,        --- boolean options [PF]

<I>--- returned arguments ---
</I><A HREF=../headers/pk_face_inst_tools_r_t.html>PK_FACE_inst_tools_r_t</A> *const optional_returns
)
</B>
<A NAME="description"></A>
<I>This function instances (creates and then booleans transformed copies of...)
a single tool body with a single target body, the boolean operation being a
unite or subtract. The tool and target body are each identified by a subset of
their faces, the subset being those faces which clash with the other body.

This function offers partial support for facet geometry [PF]
</I>
<A NAME="errors"></A>
<B>Specific Errors:</B>
PK_ERROR_unsuitable_entity          arguments not of correct type.
PK_ERROR_tool_faces_many_bodies     tool faces are from more than one body.
PK_ERROR_targ_faces_many_bodies     target faces are from more than one body.
PK_ERROR_general_body               target or tool is a general body.
PK_ERROR_same_tool_and_target       target body cannot also be a tool body.
PK_ERROR_not_solid                  tool body is a sheet.
PK_ERROR_duplicate_array_item       duplicate face in target or tool array
PK_ERROR_instanced_tools            tool is instanced within an assembly.
PK_ERROR_invalid_bodies             boolean failure or invalid bodies.
PK_ERROR_non_manifold               result is non-manifold.
PK_ERROR_missing_geom               a topological entity lacks geometry.
PK_ERROR_cant_do_imprint            imprint failure
PK_ERROR_partial_coi_found          failure due to detection of partial
                                    coincidence.
PK_ERROR_partial_no_intersect       no imprinting in a local boolean.
PK_ERROR_boolean_failure            inconsistent arguments or internal error

<A NAME="documentation"></A>
The tool body is not modified by the boolean: all instanced occurrences in the
resultant body are copies created during the operation.

This function will generally perform booleans involving identical tool bodies
considerably faster than other methods. This is however, dependent on the
intended configuration of target and instanced tools as indicated by the
configuration structure in the supplied <B>'options'</B>.

The function will perform optimally if the following fields of the
configuration structure have value PK_LOGICAL_true.

o <B>'no_tool_intersect'</B>
o <B>'no_loop_intersect'</B>
o <B>'identical_intersect'</B>
o <B>'one_in_all_in'</B>

Under these conditions the algorithm is able to perform a regular boolean
procedure for the first instanced tool and then create the other instances
by copying and transforming the surviving regions of this first instanced tool.

The <B>'optional_returns'</B> structure indicates which of the instanced tools appear
in the final result. This may be less than the <B>'n_transforms'</B> if some
of the instanced tools miss the target. Optionally information is supplied to
correlate new faces in the result with faces in the unmodified tool body.

The <B>'options'</B> and <B>'optional_returns'</B> structures are mandatory.

Restrictions

The target body may not be fragmented by the operation.

No target face may be split.

Region selection (<B>'select_region'</B> in <A HREF=../headers/pk_face_boolean_o_t.html>PK_FACE_boolean_o_t</A>) is ignored in cases
of more than one instance, except if <B>'no_tool_intersect'</B>, <B>'no_loop_intersect'</B>,
<B>'identical_intersect'</B>, and <B>'one_in_all_in'</B> are all true.

The <B>'identical_intersect'</B> field of the configuration structure indicates that
the intersection loops for one tool are identical to those for another.
If <B>'identical_intersect'</B> is set to PK_LOGICAL_true then an additional
requirement for instancing is that the loops are also identically positioned on
the tool. Example, consider a set of parallel, solid cylinders united to an
inclined planar face forming elliptical intersection loops. Whilst the loops
would be identical ellipses, their relative positioning on each tool would
not be identical unless the vertical positioning of each cylinder was
adjusted according to its position on the incline, by a suitable transform.
If <B>'identical_intersect'</B> is set to PK_LOGICAL_true, the target face cannot
have facet geometry, as for each instance the intersection will need to be
recalculated.


</PRE>

<SCRIPT type="text/JavaScript" language="JavaScript">
<!-- 
// Change date to a readable format
function to_utc(date)
{var utc = date.toUTCString();return utc;}

// get last modified date of the current document.
function date_lastmodified()
{var mod = document.lastModified, s = "Unknown", d1;
 if(0 != (d1=Date.parse(mod)))
  {s = to_utc(new Date(d1));}
 return s;}	
// display the last modified date
document.write("<ADDRESS>Generated on: " + date_lastmodified() + "</ADDRESS>");
// -->
</SCRIPT>
</BODY>
</HTML>
