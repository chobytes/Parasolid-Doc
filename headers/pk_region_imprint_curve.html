<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"><HTML>
<HEAD>
<TITLE>PK_REGION_imprint_curve</TITLE>
<LINK rel="stylesheet" href="../ps_doc.css">
</HEAD>
<BODY bgcolor="#ffffff" link="#0F3A68" vlink="#878787" alink="#FF7600" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0" background="../images/background.gif">
<A NAME="topofdoc"></A>

<TABLE cellpadding=0 cellspacing=0 border=0 width=100%>
  <TR>
    <TD>&nbsp;<IMG src="../graphics/psbar_l.gif" border=0></TD>
    <TD align=RIGHT valign=CENTER>
        <FONT face="helvetica,arial" SIZE=5 class=NS28pt>
        <B>PK_REGION_imprint_curve</B></FONT></TD>
    <TD>&nbsp;&nbsp;</TD>
  </TR>
</TABLE>

<A NAME="endofcontents"></A>
<PRE>

<A NAME="declaration"></A><B><A HREF=../headers/pk_error_code_t.html>PK_ERROR_code_t</A>     PK_REGION_imprint_curve
(
<I>--- received arguments ---
</I><A HREF=../headers/pk_region_t.html>PK_REGION_t</A>         region,         --- region
<A HREF=../headers/pk_curve_t.html>PK_CURVE_t</A>          curve,          --- curve
<A HREF=../headers/pk_interval_t.html>PK_INTERVAL_t</A>       bounds,         --- bounds of curve

<I>--- returned arguments ---
</I>int          *const n_new_edges,    --- number of new edges
<A HREF=../headers/pk_edge_t.html>PK_EDGE_t</A>   **const new_edges,      --- new edges (optional)
int          *const n_new_faces,    --- number of new faces
<A HREF=../headers/pk_face_t.html>PK_FACE_t</A>   **const new_faces       --- new faces (optional)
)
</B>
<A NAME="description"></A>
<I>This function imprints a curve onto a region, thereby creating a new edge or
edges.

</I>
<A NAME="errors"></A>
<B>Specific Errors:</B>
    PK_ERROR_non_manifold           body would become general (SERIOUS)
    PK_ERROR_crossing_edge          curve crosses existing edge (SERIOUS)
    PK_ERROR_general_body           given region is from general body (SERIOUS)
    PK_ERROR_not_in_region          bounded curve not inside region (SERIOUS)
    PK_ERROR_crossing_face          curve crosses existing face (SERIOUS)
    PK_ERROR_not_in_same_partition  curve in a different partition to region
                                    (MILD)

<A NAME="documentation"></A>
Each section of that part of <B>'curve'</B> bounded by parametric <B>'bounds'</B> that lies
in the interior of the region gives rise to a new edge or edges. Under certain
circumstances a new face will also be made; see below.  The given <B>'curve'</B> and
<B>'bounds'</B> may indicate either an open part of a curve or a whole period of a
closed periodic curve.  The result depends upon the type of the body owning
the region and whether generalised topology has been enabled
(see <A HREF=../headers/pk_session_set_general_topology.html>PK_SESSION_set_general_topology</A>).


Region of minimum body:

  Without generalised topology:

    If the bounded curve is open, an open wire body will result.
    If the bounded curve is closed, the result will be a sheet body with a
    single face without a surface attached; the face will lie on the left of
    the new edge, which will go in the direction of the curve.


  With generalised topology:

    If the bounded curve is open, an open wire body will result.
    If the bounded curve is closed, the result will be a closed wire body.

  The position of the point of the single vertex of the body is irrelevant.


Region of wire body:

  Without generalised topology:

    The bound curve may not be closed, and one bound must coincide with an end
    vertex of the (open) wire body; otherwise PK_ERROR_non_manifold will be
    returned.  If both bounds coincide with the end vertices of a wire body,
    then the result is a sheet body with a single face without a surface
    attached; the face will lie on the left of the new edge, which
    will go in the direction of the curve.  The new edges may not
    touch or cross the interior of an edge of the wire body or the error
    PK_ERROR_crossing_edge will be returned. The new edges may not touch or
    cross an interior vertex of the wire or the error PK_ERROR_non_manifold
    will be returned.

  With generalised topology:

    The bounded curve may or may not cross the existing vertices of
    the body.  It may not be coincident with the existing edges of the
    body, or cross them except at the vertices or the error
    PK_ERROR_crossing_edge will be returned.

    This operation will in some cases result in a non-manifold or
    disconnected body; if it does, the body type will change to general.


Region of a sheet, solid, or general body:

  Without generalised topology:

    This is not allowed.  One of the errors PK_ERROR_non_manifold or
    PK_ERROR_general_body will be returned.


  With generalised topology:

    If the bounded curve does not lie in the region, the error
    PK_ERROR_not_in_region will be returned.

    The bounded curve may or may not cross the existing vertices of the
    body. It may not coincide with existing edges or faces of the body,
    or cross them except at the vertices or one of the errors
    PK_ERROR_crossing_edge or PK_ERROR_crossing_face will be returned.

    One or more wireframe edges will be created in the given region. If
    the region is in a sheet or solid body, this operation will always
    result in a non-manifold or disconnected body, and so the body type
    of a sheet or solid body will change to general. If the region is in
    a general body the operation may result in a wire body, in which
    case the body type will change to wire. The operation may involve
    the creation of a new shell in the given region, or even the merging
    of two of its existing shells.


Both the <B>'new_edges'</B> and <B>'new_faces'</B> arguments are optional.  If they are set
to NULL then only the number of new edges and/or faces will be returned.

</PRE>

<SCRIPT type="text/JavaScript" language="JavaScript">
<!-- 
// Change date to a readable format
function to_utc(date)
{var utc = date.toUTCString();return utc;}

// get last modified date of the current document.
function date_lastmodified()
{var mod = document.lastModified, s = "Unknown", d1;
 if(0 != (d1=Date.parse(mod)))
  {s = to_utc(new Date(d1));}
 return s;}	
// display the last modified date
document.write("<ADDRESS>Generated on: " + date_lastmodified() + "</ADDRESS>");
// -->
</SCRIPT>
</BODY>
</HTML>
