<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"><HTML>
<HEAD>
<TITLE>PK_CONE_sf_t</TITLE>
<LINK rel="stylesheet" href="../ps_doc.css">
</HEAD>
<BODY bgcolor="#ffffff" link="#0F3A68" vlink="#878787" alink="#FF7600" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0" background="../images/background.gif">
<A NAME="topofdoc"></A>

<TABLE cellpadding=0 cellspacing=0 border=0 width=100%>
  <TR>
    <TD>&nbsp;<IMG src="../graphics/psbar_l.gif" border=0></TD>
    <TD align=RIGHT valign=CENTER>
        <FONT face="helvetica,arial" SIZE=5 class=NS28pt>
        <B>PK_CONE_sf_t</B></FONT></TD>
    <TD>&nbsp;&nbsp;</TD>
  </TR>
</TABLE>

<A NAME="endofcontents"></A>
<PRE>

<A NAME="declaration"></A><B>
struct PK_CONE_sf_s
    {
    <A HREF=../headers/pk_axis2_sf_t.html>PK_AXIS2_sf_t</A>   basis_set;  --- location, cone axis, drn. to u = 0
    double          radius;     --- the radius of a circle on the cone(&gt;=0)
    double          semi_angle; --- the half angle of the cone in radians
    };

typedef struct PK_CONE_sf_s PK_CONE_sf_t;
</B>
<A NAME="errors"></A>
<B>Specific Errors:</B>
   PK_ERROR_radius_lt_0      The radius for the cone was less than zero
   PK_ERROR_bad_angle        The semi-angle was not strictly between 0 and PI/2

</PRE>
<h4>Used in:</h4>
<blockquote>
  <p>
    <A HREF=../headers/pk_cone_ask.html>PK_CONE_ask</A><br>
    <A HREF=../headers/pk_cone_create.html>PK_CONE_create</A><br>
  </p>
</blockquote>
<PRE>
<A NAME="documentation"></A>



The half cone represented by this data structure passes through
the circle with centre `basis_set.location', axis `basis_set.axis' and
radius as <B>'radius'</B>. The direction of the axis will be the direction of
increasing circle radius (i.e pointing away from the apex in the infinite
direction of the cone). The semi_angle defines the angle between the axis
and any line on the surface of the cone. This is slightly different to the
handling of cones in the KI.

See documentation for <A HREF=../headers/pk_axis2_sf_t.html>PK_AXIS2_sf_t</A>.




The parameterisation of a cone is as follows:

    P = basis_set.location
    x = basis_set.ref_direction
    y = basis_set.axis X basis_set.ref_direction  ( cross product )
    z = basis_set.axis
    R = radius
    w = semi_angle

    S(u, v) = P + ( R + v(tan w) )((cos u)x + (sin u)y) + vz
                                ( 0 &lt;= u &lt; 2PI , -r(cot w) &lt;= v &lt; infinity )

Where as in the STEP definition of a cone, the v parameter is in the range
minus infinity to plus infinity, hence including two half cones sharing a
common apex, only one of the two half cones is represented by this data
structure.


</PRE>

<SCRIPT type="text/JavaScript" language="JavaScript">
<!-- 
// Change date to a readable format
function to_utc(date)
{var utc = date.toUTCString();return utc;}

// get last modified date of the current document.
function date_lastmodified()
{var mod = document.lastModified, s = "Unknown", d1;
 if(0 != (d1=Date.parse(mod)))
  {s = to_utc(new Date(d1));}
 return s;}	
// display the last modified date
document.write("<ADDRESS>Generated on: " + date_lastmodified() + "</ADDRESS>");
// -->
</SCRIPT>
</BODY>
</HTML>
