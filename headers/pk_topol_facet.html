<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"><HTML>
<HEAD>
<TITLE>PK_TOPOL_facet</TITLE>
<LINK rel="stylesheet" href="../ps_doc.css">
</HEAD>
<BODY background=../graphics/deprecated.gif link="#0F3A68" vlink="#878787" alink="#FF7600" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0">
<A NAME="topofdoc"></A>

<TABLE cellpadding=0 cellspacing=0 border=0 width=100%>
  <TR>
    <TD>&nbsp;<IMG src="../graphics/psbar_l.gif" border=0></TD>
    <TD align=RIGHT valign=CENTER>
        <FONT face="helvetica,arial" SIZE=5 class=NS28pt>
        <B>PK_TOPOL_facet</B></FONT></TD>
    <TD>&nbsp;&nbsp;</TD>
  </TR>
</TABLE>

<A NAME="endofcontents"></A>
<PRE>

<A NAME="declaration"></A><B><A HREF=../headers/pk_error_code_t.html>PK_ERROR_code_t</A>                 PK_TOPOL_facet
(
<I>--- received arguments ---
</I>const int                        n_topols,        --- number of entities
const <A HREF=../headers/pk_topol_t.html>PK_TOPOL_t</A>                 topols[],        --- entities to be facetted
const <A HREF=../headers/pk_transf_t.html>PK_TRANSF_t</A>                topol_transfs[], --- applied transformations
const <A HREF=../headers/pk_transf_t.html>PK_TRANSF_t</A>                view_transf,     --- viewing transformation
const <A HREF=../headers/pk_topol_facet_o_t.html>PK_TOPOL_facet_o_t</A>        *options,         --- options structure

<I>--- returned arguments ---
</I><A HREF=../headers/pk_topol_facet_r_t.html>PK_TOPOL_facet_r_t</A>        *const tables           --- addr of tabular structure
)
</B>
<A NAME="description"></A>
<I>Generate a facetted representation of topological entities in tabular form

NOTE: This function is deprecated and has been superseded by <A HREF=../headers/pk_topol_facet_2.html>PK_TOPOL_facet_2</A>.

</I>
<A NAME="errors"></A>
<B>Specific Errors:</B>
    PK_ERROR_duplicate_array_item   topol has duplicates but no transf array
                                    (MILD)
    PK_ERROR_bad_component          topol or view transf is inappropriate
                                    (MILD)
    PK_ERROR_general_body           <A HREF=../headers/pk_facet_match_t.html>PK_facet_match_topol_c</A> option can't be used
                                    (MILD)
    PK_ERROR_field_of_wrong_type    <A HREF=../headers/pk_facet_match_t.html>PK_facet_match_topol_c</A> requires cull_none_c
                                    (MILD)
    PK_ERROR_unsuitable_topology    entity in topols array is not face or body
                                    (MILD)
    PK_ERROR_function_not_exclusive <B>'incremental_facetting'</B> option value is
                                    incompatible with the function running
                                    concurrently in a thread without locked
                                    partitions (MILD)

<A NAME="documentation"></A>
See <A HREF="../chapters/fd_chap.111.html#50409902_pgfId-294749">here</A> for more information.

Each received topological entity can be a general, solid or a sheet body or
face, if any other type of topological entity appears in 'topols' the error
PK_ERROR_unsuitable_topology will be returned.

If <B>'topol_transfs'</B> is set to NULL the <B>'topols'</B> entities are not transformed
(and the <B>'topols'</B> array cannot contain duplicates).

If <B>'topol_transfs'</B> is not NULL, it is an array of <A HREF=../headers/pk_transf_t.html>PK_TRANSF_t</A> entities of
length <B>'n_topols'</B>. The <B>'topols'</B> array can contain duplicates in this case.
Each entity in <B>'topols'</B> is transformed by its corresponding entity in
<B>'topol_transfs'</B>. Any entry in the <B>'topol_transfs'</B> array can be PK_ENTITY_null,
indicating that the corresponding entity in <B>'topols'</B> is not to be transformed.
Transforms may only contain translation and rotation components. Reflections,
scales and shears are not allowed.

The <B>'view_transf'</B> argument is only used when generating view-dependent facet
data for the back face culling and the increased local silhouette density
options.  The <B>'view_transf'</B> may contain perspective components but the
perspective will only be taken into account for back face culling; for
increased local silhouette density only the directional component of the
<B>'view_transf'</B> will be used.

Facet vertex coordinates are always generated in world coordinates even when
a viewing transform entity is provided (such data must be transformed into
the viewing coordinate system before display).

The <A HREF=../headers/pk_topol_facet_o_t.html>PK_TOPOL_facet_o_t</A> options structure defines two sets of controls

    1) how the facet mesh is generated
    2) which mesh data are returned to the application.

The mesh generation options include parameters such as the maximum number
of sides per facet and the tolerance values which are to be used when
approximating surfaces by planar facets.

The data selection options indicate whether the function should calculate
and return the following data to the application in tabular form :

 -  topological data (e.g. which vertices are used to construct which facets)

 -  geometric data   (e.g. values of vertex coordinates and normals),

 -  tracking data    (e.g. which facets were derived from which face entities)

 -  error data       (e.g. which entities fail to meet tolerance criteria)

The data selection options are defined as fields of a <A HREF=../headers/pk_topol_facet_choice_o_t.html>PK_TOPOL_facet_choice_o_t</A>
structure, set to   PK_LOGICAL_true   or  PK_LOGICAL_false  indicating whether
the application requires Parasolid to calculate and return the associated data.

Each data selection field name in the <A HREF=../headers/pk_topol_facet_choice_o_t.html>PK_TOPOL_facet_choice_o_t</A> structure
is matched by a field name in the returned <A HREF=../headers/pk_topol_facet_r_t.html>PK_TOPOL_facet_r_t</A> structure,
returning details of the underlying topological, geometric, associative
or error data in tabular form.

The following restrictions apply when generating facet data:

    - if topology edge matching is on, the 'cull' option must not be used

    - if topology edge matching is on, a general body will not be facetted

    - the <B>'view_transf'</B> matrix may not contain reflections, scales or shear
      components.

    - the silhouette density option <A HREF=../headers/pk_facet_density_t.html>PK_facet_density_use_view_c</A> only uses the
      directional component of the viewing transform entity (and it assumes a
      parallel view).  If multiple view_directions are supplied via the option
      <B>'view_directions'</B>, these directions will override the <B>'view_transf'</B>.

    - if incremental facetting is on then only geometry matching is allowed.

    - if the function is running concurrently in a thread without locked
      partitions then incremental facetting must be off.

</PRE>

<SCRIPT type="text/JavaScript" language="JavaScript">
<!-- 
// Change date to a readable format
function to_utc(date)
{var utc = date.toUTCString();return utc;}

// get last modified date of the current document.
function date_lastmodified()
{var mod = document.lastModified, s = "Unknown", d1;
 if(0 != (d1=Date.parse(mod)))
  {s = to_utc(new Date(d1));}
 return s;}	
// display the last modified date
document.write("<ADDRESS>Generated on: " + date_lastmodified() + "</ADDRESS>");
// -->
</SCRIPT>
</BODY>
</HTML>
