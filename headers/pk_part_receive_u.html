<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"><HTML>
<HEAD>
<TITLE>PK_PART_receive_u</TITLE>
<LINK rel="stylesheet" href="../ps_doc.css">
</HEAD>
<BODY bgcolor="#ffffff" link="#0F3A68" vlink="#878787" alink="#FF7600" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0" background="../images/background.gif">
<A NAME="topofdoc"></A>

<TABLE cellpadding=0 cellspacing=0 border=0 width=100%>
  <TR>
    <TD>&nbsp;<IMG src="../graphics/psbar_l.gif" border=0></TD>
    <TD align=RIGHT valign=CENTER>
        <FONT face="helvetica,arial" SIZE=5 class=NS28pt>
        <B>PK_PART_receive_u</B></FONT></TD>
    <TD>&nbsp;&nbsp;</TD>
  </TR>
</TABLE>

<A NAME="endofcontents"></A>
<PRE>

<A NAME="declaration"></A><B><A HREF=../headers/pk_error_code_t.html>PK_ERROR_code_t</A>             PK_PART_receive_u
(
<I>--- received arguments ---
</I>const <A HREF=../headers/pk_uchar_t.html>PK_UCHAR_t</A>           *key,         --- key string
const <A HREF=../headers/pk_part_receive_o_t.html>PK_PART_receive_o_t</A>  *options,     --- receive options

<I>--- returned arguments ---
</I>int                  *const n_parts,     --- number of parts received
<A HREF=../headers/pk_part_t.html>PK_PART_t</A>           **const parts        --- parts received
)
</B>
<A NAME="description"></A>
<I>This function receives one or more parts using the given Unicode key string.
</I>
<A NAME="errors"></A>
<B>Specific Errors:</B>
    PK_ERROR_bad_key               Frustrum (UCOPRD) returned FR_bad_name
                                   (MILD)
    PK_ERROR_key_not_found         Frustrum (UCOPRD) returned FR_not_found
                                   (MILD)
    PK_ERROR_cant_open_file        Frustrum (UCOPRD) returned FR_open_fail
                                   (MILD)
    PK_ERROR_file_access_error     Error reading or closing the transmit file
                                   (MILD)
    PK_ERROR_schema_access_error   Error opening, closing, or reading the
                                   schema file (MILD)
    PK_ERROR_schema_corrupt        Contents of schema file not as expected
                                   (MILD)
    PK_ERROR_schema_incompatible   Schema contents in newer format (MILD)
    PK_ERROR_wrong_format          File does not have expected transmit
                                   format (MILD)
    PK_ERROR_wrong_version         File transmitted by incompatible version
                                   of modeller (MILD)
    PK_ERROR_corrupt_file          Invalid transmit file contents
                                   (MILD/SERIOUS)
    PK_ERROR_file_read_corruption  Corrupt data read, perhaps an NFS problem
                                   (MILD)
    PK_ERROR_size_mismatch         Transmitted parts created with different
                                   modeller resolution settings (MILD)
    PK_ERROR_attr_defn_mismatch    Transmitted attribute definitions do not
                                   match current ones (MILD)
    PK_ERROR_usfd_mismatch         File has incompatible user-field size (MILD)
    PK_ERROR_withdrawn_surface     File contains a withdrawn blend surface
                                   (MILD)
    PK_ERROR_FG_receive_failure    Part contains irretrievable foreign
                                   geometry (MILD)
    PK_ERROR_bad_field_conversion  Part contains data not convertible to
                                   current format (MILD)

If the <B>'transmit_format'</B> option is <A HREF=../headers/pk_transmit_format_t.html>PK_transmit_format_applio_c</A>:

    PK_ERROR_applio_not_registered Application i/o functions not registered
                                   (MILD)

If the <B>'transmit_format'</B> option is <A HREF=../headers/pk_transmit_format_t.html>PK_transmit_format_indexio_c</A>:

    PK_ERROR_indexio_not_registered
                                   Indexed Frustrum functions not registered
                                   (MILD)
    PK_ERROR_xt_data_not_indexed   XT data was not transmitted using
                                   <A HREF=../headers/pk_transmit_format_t.html>PK_transmit_format_indexio_c</A> (MILD)
    PK_ERROR_bad_index             The index of a part is out of range (MILD)
    PK_ERROR_bad_value             None or more than one identifier was given
                                   (MILD)
    PK_ERROR_not_found             The face identifier was not found (MILD)

If the <B>'receive_compound'</B> option is <A HREF=../headers/pk_receive_compound_t.html>PK_receive_compound_fail_c</A>:

    PK_ERROR_compound_body         A part is a compound body (MILD)

If the <B>'n_part_indices'</B> option &gt; 0:

    PK_ERROR_bad_index             The index of a part is out of range or
                                   does not correspond to a compound body
                                   (MILD)
    PK_ERROR_not_found             The child body identifier was not found
                                   (MILD)

If facet geometry is not enabled in the session:

    PK_ERROR_facet_geometry        A part contains facet geometry (MILD)
    PK_ERROR_lattice_geometry      A part contains a lattice (MILD)

If the <B>'receive_mixed'</B> option is <A HREF=../headers/pk_receive_mixed_t.html>PK_receive_mixed_fail_c</A>:

    PK_ERROR_mixed_geometry        A part contains mixed facet and classic
                                   geometry (MILD)

<A NAME="documentation"></A>
Before this function can be used, it must be enabled by calls to
<A HREF=../headers/pk_session_set_unicode.html>PK_SESSION_set_unicode</A> and then <A HREF=../headers/pk_session_register_frustrum.html>PK_SESSION_register_frustrum</A> and/or
<A HREF=../headers/pk_session_register_applio.html>PK_SESSION_register_applio</A>, or by call to <A HREF=../headers/pk_session_register_indexio.html>PK_SESSION_register_indexio</A>.

The Unicode key is passed to the frustrum to identify the 'file' used to
receive the parts.

The parts are returned in the same order that they were transmitted by
PART transmit.

The registered frustrum routine UCOPRD is called with guise FFCXMT
(transmit file containing parts).

The transmit format option affects the format argument to UCOPRD as follows:

    transmit format                 format

    <A HREF=../headers/pk_transmit_format_t.html>PK_transmit_format_text_c</A>       FFTEXT
    <A HREF=../headers/pk_transmit_format_t.html>PK_transmit_format_binary_c</A>     FFBNRY
    <A HREF=../headers/pk_transmit_format_t.html>PK_transmit_format_neutral_c</A>    FFBNRY
    <A HREF=../headers/pk_transmit_format_t.html>PK_transmit_format_applio_c</A>    (function <B>'open_uc_rd'</B> is called -
                                    see <A HREF=../headers/pk_session_register_applio.html>PK_SESSION_register_applio</A>)
    <A HREF=../headers/pk_transmit_format_t.html>PK_transmit_format_indexio_c</A>   (function <B>'ucoprd'</B> is called -
                                    see <A HREF=../headers/pk_session_register_indexio.html>PK_SESSION_register_indexio</A>)

If the <B>'receive_user_fields'</B> option is set to true, user-fields will be
received from the transmit file, if they are present in the file. If the
user-field size in the transmit file is non-zero, but not the same as the
user-field size in the session, the error PK_ERROR_usfd_mismatch will be
returned.

If the <B>'receive_user_fields'</B> option is set to false, and user fields are in use
in the session, received entities will have their user fields set to zero.

When a part is created the modeller stores in the part the current values for
the linear and angular resolution of the modeller and these values will be
saved with the part in a transmit file. If the resolution values saved with the
part are different from the current values, PK_ERROR_size_mismatch will be
returned.

The definitions of any attributes attached to a part are stored with a part in
the file. When a part is received the modeller may discover a mismatch between
an existing attribute definition and a stored definition with the same
identifier. If this occurs PK_ERROR_attr_defn_mismatch will be returned.

If the transmit file was transmitted by a version of the modeller which is
newer than the current version, PK_ERROR_wrong_version will be returned.

If the parts contain foreign geometry for which an evaluator is not available,
the offending surfaces or curves are identified by having a system attribute
of type SDL/TYSA_BAD_FG attached. Parts containing such geometry must not be
used. This mechanism allows individual parts in a file to be used despite the
presence of other parts containing unusable foreign geometry. Applications
using foreign geometry must check for the presence of this attribute and
delete such parts.

See <A HREF="../chapters/fd_chap.102.html#50409892_pgfId-294952">Receiving a part</A> for more information.

</PRE>

<SCRIPT type="text/JavaScript" language="JavaScript">
<!-- 
// Change date to a readable format
function to_utc(date)
{var utc = date.toUTCString();return utc;}

// get last modified date of the current document.
function date_lastmodified()
{var mod = document.lastModified, s = "Unknown", d1;
 if(0 != (d1=Date.parse(mod)))
  {s = to_utc(new Date(d1));}
 return s;}	
// display the last modified date
document.write("<ADDRESS>Generated on: " + date_lastmodified() + "</ADDRESS>");
// -->
</SCRIPT>
</BODY>
</HTML>
