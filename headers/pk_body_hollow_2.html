<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"><HTML>
<HEAD>
<TITLE>PK_BODY_hollow_2</TITLE>
<LINK rel="stylesheet" href="../ps_doc.css">
</HEAD>
<BODY bgcolor="#ffffff" link="#0F3A68" vlink="#878787" alink="#FF7600" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0" background="../images/background.gif">
<A NAME="topofdoc"></A>

<TABLE cellpadding=0 cellspacing=0 border=0 width=100%>
  <TR>
    <TD>&nbsp;<IMG src="../graphics/psbar_l.gif" border=0></TD>
    <TD align=RIGHT valign=CENTER>
        <FONT face="helvetica,arial" SIZE=5 class=NS28pt>
        <B>PK_BODY_hollow_2</B></FONT></TD>
    <TD>&nbsp;&nbsp;</TD>
  </TR>
</TABLE>

<A NAME="endofcontents"></A>
<PRE>

<A NAME="declaration"></A><B><A HREF=../headers/pk_error_code_t.html>PK_ERROR_code_t</A>            PK_BODY_hollow_2
(
<I>--- received arguments ---
</I><A HREF=../headers/pk_body_t.html>PK_BODY_t</A>                  body,              --- body to be hollowed
double                     offset,            --- offset distance
double                     tolerance,         --- tolerance
const <A HREF=../headers/pk_body_hollow_o_t.html>PK_BODY_hollow_o_t</A>  *options,           --- user options [PF]

<I>--- returned arguments ---
</I><A HREF=../headers/pk_topol_track_r_t.html>PK_TOPOL_track_r_t</A>  *const tracking,          --- tracking information
<A HREF=../headers/pk_topol_local_r_t.html>PK_TOPOL_local_r_t</A>  *const results            --- status information
)
</B>
<A NAME="description"></A>
<I>This function hollows a solid body by offsetting all faces of the body
by the given offset distance

NOTE : This function supersedes <A HREF=../headers/pk_body_hollow.html>PK_BODY_hollow</A>.

This function offers partial support for facet geometry [PF]
</I>
<A NAME="errors"></A>
<B>Specific Errors:</B>
    PK_ERROR_bad_tolerance         proposed tolerance is too small (MILD)
    PK_ERROR_unsuitable_entity     body is not solid body or any face specified
                                   via a field of the options which does not
                                   belong to the body (SERIOUS)
    PK_ERROR_bad_combination       incompatible options specified as follows:
                                   - a face appears in <B>'offset_faces'</B> and in
                                     <B>'pierce_faces'</B>
                                   - a face appears in <B>'local_faces'</B> and in
                                     `pierce faces'
                                   - a face appears in <B>'offset_faces'</B> and in
                                     <B>'local_faces'</B> when using exclude option
                                   - <A HREF=../headers/pk_hollow_local_t.html>PK_hollow_local_none_c</A> and
                                     <B>'n_local_faces'</B> &gt; 0
                                   - <A HREF=../headers/pk_hollow_local_t.html>PK_hollow_local_add_c</A> and
                                     <B>'n_local_faces'</B> = 0
                                   - <A HREF=../headers/pk_hollow_local_t.html>PK_hollow_local_exclude_c</A> and
                                     <B>'n_local_faces'</B> = 0 (MILD)
    PK_ERROR_bad_value             invalid offset value (MILD)

<A NAME="documentation"></A>

Introduction
The <B>'body'</B> is hollowed. The <B>'offset'</B> argument gives the default offset of the
hollowing - the thickness of the skin of the resulting body. A positive
<B>'offset'</B> will offset the body outwards (i.e. in the direction of the face
normals) and a negative value inwards.

The result of hollowing a body will be to generate a body containing a void.
Faces which are not to be offset at all are defined in the 'pierce_faces'
array in the supplied option structure. Pierced faces remain only as a
section through the hollowed body. For instance, hollowing a cylindrical
solid with one end face pierced will result in a tube with one open and
one closed end.

Under some circumstances the function may need to replace exact geometry by
tolerant geometry. For instance, a four-edge vertex in general will offset
to two three-edge vertices and a connecting edge. If this new edge is smaller
than the supplied tolerance then the vertex becomes tolerant and no new edge
is introduced. In all situations where approximation is required the new
geometry will have a tolerance less than or equal to the tolerance supplied
through the <B>'tolerance'</B> argument.

See <A HREF="../chapters/fd_chap.061.html#50409846_pgfId-294721">Hollowing</A> for more information.

User options
The <A HREF=../headers/pk_body_hollow_o_t.html>PK_BODY_hollow_o_t</A> structure contains user control options. See
its documentation for details.

Tracking
The <A HREF=../headers/pk_topol_track_t.html>PK_TOPOL_track_t</A> structure contains topology tracking information on
the operation. In the case of this function, two types of tracking information
records may be returned :
1)  PK_TOPOL_track_create_c, to report newly created offset faces (or faces
    deriving from them).
2)  PK_TOPOL_track_derive_c, to report faces deriving from existing ones,
    through any combination of splitting and merging.

Error handling
If this function returns PK_ERROR_no_errors, the result of the operation
will be indicated by the value of the <B>'status'</B> field of the <B>'results'</B>
structure. When this value is not <A HREF=../headers/pk_local_status_t.html>PK_local_status_ok_c</A> or
<A HREF=../headers/pk_local_status_t.html>PK_local_status_nocheck_c</A>, it indicates an operation failure and an array
of entities involved in this failure is returned through the field
<B>'error_entities'</B> of the <B>'results'</B> structure, when possible.
For more information regarding the failure status code and the error_entities,
refer to the PK documentation of the <A HREF=../headers/pk_topol_local_r_t.html>PK_TOPOL_local_r_t</A> structure.

</PRE>

<SCRIPT type="text/JavaScript" language="JavaScript">
<!-- 
// Change date to a readable format
function to_utc(date)
{var utc = date.toUTCString();return utc;}

// get last modified date of the current document.
function date_lastmodified()
{var mod = document.lastModified, s = "Unknown", d1;
 if(0 != (d1=Date.parse(mod)))
  {s = to_utc(new Date(d1));}
 return s;}	
// display the last modified date
document.write("<ADDRESS>Generated on: " + date_lastmodified() + "</ADDRESS>");
// -->
</SCRIPT>
</BODY>
</HTML>
