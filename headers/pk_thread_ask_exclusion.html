<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"><HTML>
<HEAD>
<TITLE>PK_THREAD_ask_exclusion</TITLE>
<LINK rel="stylesheet" href="../ps_doc.css">
</HEAD>
<BODY bgcolor="#ffffff" link="#0F3A68" vlink="#878787" alink="#FF7600" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0" background="../images/background.gif">
<A NAME="topofdoc"></A>

<TABLE cellpadding=0 cellspacing=0 border=0 width=100%>
  <TR>
    <TD>&nbsp;<IMG src="../graphics/psbar_l.gif" border=0></TD>
    <TD align=RIGHT valign=CENTER>
        <FONT face="helvetica,arial" SIZE=5 class=NS28pt>
        <B>PK_THREAD_ask_exclusion</B></FONT></TD>
    <TD>&nbsp;&nbsp;</TD>
  </TR>
</TABLE>

<A NAME="endofcontents"></A>
<PRE>

<A NAME="declaration"></A><B><A HREF=../headers/pk_error_code_t.html>PK_ERROR_code_t</A>              PK_THREAD_ask_exclusion
(
<I>--- returned arguments ---
</I><A HREF=../headers/pk_thread_exclusion_t.html>PK_THREAD_exclusion_t</A> *const exclusion,      --- type of thread exclusion
<A HREF=../headers/pk_logical_t.html>PK_LOGICAL_t</A>          *const was_this_thread --- whether the calling thread
                                             --- caused the exclusion
)
</B>
<A NAME="description"></A>
<I>This function returns whether the Parasolid interface is currently excluding
other threads entering and whether the calling thread caused the exclusion.
</I>
<A NAME="documentation"></A>
After any fatal or serious PK errors, or other conditions when the session
should be rolled back, the Parasolid interface will exclude other threads and
only the thread that caused the exclusion can enter Parasolid. The only PK
functions that can be called from other threads without being queued until
after the exclusion are:

<A HREF=../headers/pk_session_ask_function.html>PK_SESSION_ask_function</A>
<A HREF=../headers/pk_session_is_in_kernel_2.html>PK_SESSION_is_in_kernel_2</A>
PK_THREAD_ask_exclusion
<A HREF=../headers/pk_thread_ask_function.html>PK_THREAD_ask_function</A>
<A HREF=../headers/pk_thread_clear_exclusion.html>PK_THREAD_clear_exclusion</A> (although this will always return an error)
<A HREF=../headers/pk_thread_is_in_kernel.html>PK_THREAD_is_in_kernel</A>

If <B>'exclusion'</B> is <A HREF=../headers/pk_thread_exclusion_t.html>PK_THREAD_exclusion_fatal_c</A> then the session should be
restarted. If <B>'exclusion'</B> is <A HREF=../headers/pk_thread_exclusion_t.html>PK_THREAD_exclusion_serious_c</A> then either
<A HREF=../headers/pk_mark_goto.html>PK_MARK_goto</A>, <A HREF=../headers/pk_partition_goto_guard.html>PK_PARTITION_goto_guard</A>, <A HREF=../headers/pk_pmark_goto_2.html>PK_PMARK_goto_2</A>, <A HREF=../headers/pk_session_receive.html>PK_SESSION_receive</A>
or <A HREF=../headers/pk_thread_clear_exclusion.html>PK_THREAD_clear_exclusion</A> must be called in the thread that has the return
value of <B>'was_this_thread'</B> set to PK_LOGICAL_true before other threads can
enter Parasolid again.

This function can only be called when the modeller is started.

</PRE>

<SCRIPT type="text/JavaScript" language="JavaScript">
<!-- 
// Change date to a readable format
function to_utc(date)
{var utc = date.toUTCString();return utc;}

// get last modified date of the current document.
function date_lastmodified()
{var mod = document.lastModified, s = "Unknown", d1;
 if(0 != (d1=Date.parse(mod)))
  {s = to_utc(new Date(d1));}
 return s;}	
// display the last modified date
document.write("<ADDRESS>Generated on: " + date_lastmodified() + "</ADDRESS>");
// -->
</SCRIPT>
</BODY>
</HTML>
