<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"><HTML>
<HEAD>
<TITLE>PK_SURF_general_eval_f_t</TITLE>
<LINK rel="stylesheet" href="../ps_doc.css">
</HEAD>
<BODY bgcolor="#ffffff" link="#0F3A68" vlink="#878787" alink="#FF7600" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0" background="../images/background.gif">
<A NAME="topofdoc"></A>

<TABLE cellpadding=0 cellspacing=0 border=0 width=100%>
  <TR>
    <TD>&nbsp;<IMG src="../graphics/psbar_l.gif" border=0></TD>
    <TD align=RIGHT valign=CENTER>
        <FONT face="helvetica,arial" SIZE=5 class=NS28pt>
        <B>PK_SURF_general_eval_f_t</B></FONT></TD>
    <TD>&nbsp;&nbsp;</TD>
  </TR>
</TABLE>

<A NAME="endofcontents"></A>
<PRE>

<A NAME="declaration"></A><B>typedef <A HREF=../headers/pk_error_code_t.html>PK_ERROR_code_t</A>(*PK_SURF_general_eval_f_t)
(
<I>--- received arguments ---
</I><A HREF=../headers/pk_uv_t.html>PK_UV_t</A>                  uv,            --- u and v parameter pair
int                      n_u_derivs,    --- number of u derivatives
int                      n_v_derivs,    --- number of v derivatives
<A HREF=../headers/pk_hand_t.html>PK_HAND_t</A>                u_hand_dir,    --- u evaluation direction
<A HREF=../headers/pk_hand_t.html>PK_HAND_t</A>                v_hand_dir,    --- v evaluation direction
<A HREF=../headers/pk_pointer_t.html>PK_POINTER_t</A>             external_data, --- external application data
<I>--- returned arguments ---
</I>double            *const p              --- point and derivatives
);

</B>
<A NAME="description"></A>
<I>This is the type definition for the external evaluator functions expected
by <A HREF=../headers/pk_bsurf_create_fitted.html>PK_BSURF_create_fitted</A>.  The functions themselves are to be
provided by the application.
</I>
</PRE>
<h4>Used in:</h4>
<blockquote>
  <p>
    <A HREF=../headers/pk_surf_general_user_t.html>PK_SURF_general_user_t</A><br>
  </p>
</blockquote>
<PRE>
<A NAME="documentation"></A>
The function calculates the model space coordinates of the point at the
given parameter pair <B>'uv'</B> on a general surface, and also the derivatives with
respect to <B>'uv'</B>,  up to order <B>'n_u_derivs'</B> and <B>'n_v_derivs'</B> respectively.

The maximum number of derivatives that can be returned by this function
is determined by the surface's external evaluator. However, no derivatives
will be requested by the current Parasolid fitting method.

The return argument <B>'p'</B> is an array of doubles returning the point and
possibly derivatives on the user surface at <B>'uv'</B>.

The <B>'u_hand_dir'</B> and <B>'v_hand_dir'</B> arguments allow evaluation from both the left
and right at patch boundaries. Usually these arguments should be set to
<A HREF=../headers/pk_hand_t.html>PK_HAND_right_c</A> which results in evaluation approaching from the right. This
means that if the parameter t lies on a patch boundary then the derivatives
will be calculated using the next patch and the starting local parameter. If
the arguments are set to <A HREF=../headers/pk_hand_t.html>PK_HAND_left_c</A> (evaluate from left) then the
derivatives will be calculated using the previous patch and the end local
parameter.

The following examples show how the direction arguments affect the evaluation
at the given parameter position (shown as #), where straight lines represent
surface patch boundaries:

                ^ U                                   ^ U
                |                                     |
   u_on_right   |  u_on_right        u_on_right/left  #  u_on_right/left
    v_on_left   |  v_on_right              v_on_left  |  v_on_right
 ---------------#--------------&gt; V   -----------------+------------------&gt; V
    u_on_left   | u_on_left                           |
    v_on_left   | v_on_right

The derivatives obtained from left and right evaluation may be different if
there is a discontinuity at the patch boundary.

If a parameter (u or v) is at the beginning / end of a global parameter
boundary and in non-periodic direction,  <A HREF=../headers/pk_hand_t.html>PK_HAND_left_c</A> / <A HREF=../headers/pk_hand_t.html>PK_HAND_right_c</A>
means the evaluation will use the surface extended from the boundary.

The <B>'external_data'</B> should be supplied to Parasolid via the
<B>'PK_SURF_general_eval_data_t'</B> structure.

Functions of this type should return <B>'PK_ERROR_no_errors'</B> on success.  Any
other return value will be taken to be an evaluation failure and the return
arguments will not be examined.  In these circumstances, a value of
<B>'PK_BSURF_fitted_eval_failure_c'</B> will be returned in the corresponding array
entry of the <B>'status'</B> field of the <B>'<A HREF=../headers/pk_bsurf_fitted_fault_t.html>PK_BSURF_fitted_fault_t</A>'</B> <B>'fault'</B> structure
returned by <A HREF=../headers/pk_bsurf_create_fitted.html>PK_BSURF_create_fitted</A>.


</PRE>

<SCRIPT type="text/JavaScript" language="JavaScript">
<!-- 
// Change date to a readable format
function to_utc(date)
{var utc = date.toUTCString();return utc;}

// get last modified date of the current document.
function date_lastmodified()
{var mod = document.lastModified, s = "Unknown", d1;
 if(0 != (d1=Date.parse(mod)))
  {s = to_utc(new Date(d1));}
 return s;}	
// display the last modified date
document.write("<ADDRESS>Generated on: " + date_lastmodified() + "</ADDRESS>");
// -->
</SCRIPT>
</BODY>
</HTML>
