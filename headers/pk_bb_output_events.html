<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"><HTML>
<HEAD>
<TITLE>PK_BB_output_events</TITLE>
<LINK rel="stylesheet" href="../ps_doc.css">
</HEAD>
<BODY bgcolor="#ffffff" link="#0F3A68" vlink="#878787" alink="#FF7600" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0" background="../images/background.gif">
<A NAME="topofdoc"></A>

<TABLE cellpadding=0 cellspacing=0 border=0 width=100%>
  <TR>
    <TD>&nbsp;<IMG src="../graphics/psbar_l.gif" border=0></TD>
    <TD align=RIGHT valign=CENTER>
        <FONT face="helvetica,arial" SIZE=5 class=NS28pt>
        <B>PK_BB_output_events</B></FONT></TD>
    <TD>&nbsp;&nbsp;</TD>
  </TR>
</TABLE>

<A NAME="endofcontents"></A>
<PRE>

<A NAME="declaration"></A><B><A HREF=../headers/pk_error_code_t.html>PK_ERROR_code_t</A>       PK_BB_output_events
(
<I>--- received arguments ---
</I>PK_BB_t               bb,           --- not used
<A HREF=../headers/pk_logical_t.html>PK_LOGICAL_t</A>          empty,        --- whether to empty bulletin board

<I>--- returned arguments ---
</I>int            *const n_entities,   --- number of entities (&gt;= 0)
int           **const events,       --- events to which entities
                                    --- belong (optional)
<A HREF=../headers/pk_entity_t.html>PK_ENTITY_t</A>   **const entities,     --- entities (optional)
<A HREF=../headers/pk_bb_event_t.html>PK_BB_event_t</A> **const event_types,  --- event types (optional)
<A HREF=../headers/pk_class_t.html>PK_CLASS_t</A>    **const classes,      --- classes of entities (optional)
int           **const user_fields   --- user fields (optional)
)
</B>
<A NAME="description"></A>
<I>This function outputs the events stored in the bulletin board
</I>
<A NAME="errors"></A>
<B>Specific Errors:</B>
    PK_ERROR_bb_is_off        (MILD) can not output events when bb is off

<A NAME="documentation"></A>
The received argument <B>'bb'</B> is not used.

The events recorded in the bulletin board since it was last empty are returned.
If <B>'empty'</B> is set to PK_LOGICAL_true, then all of these events are removed
from the bulletin board.

Events are returned in four parallel arrays of the same size <B>'n_entities'</B>
(<B>'user_fields'</B> is discussed below).  Each event involves one or more
<B>'entities'</B>.  All entities involved in an event are adjacent in the <B>'entities'</B>
array.  Each event is assigned an integer identifier, and these identifiers
are returned in the <B>'events'</B> array.  The event types are returned in the
<B>'event_types'</B> array (see documentation for <A HREF=../headers/pk_bb_event_t.html>PK_BB_event_t</A>) and the classes
of the entities in <B>'classes'</B>.

For example: if a point is created and copied and the bulletin board has been
set to record these events then it would contain two events as follows:

    events    entities       event_types           classes

      0         249       <A HREF=../headers/pk_bb_event_t.html>PK_BB_event_create_c</A>  PK_CLASS_point
      1         250       <A HREF=../headers/pk_bb_event_t.html>PK_BB_event_copy_c</A>    PK_CLASS_point
      1         249       <A HREF=../headers/pk_bb_event_t.html>PK_BB_event_copy_c</A>    PK_CLASS_point

event 0 is the creation of point 249 and event 1 is the copying of point
249 to point 250.

The events: <A HREF=../headers/pk_bb_event_t.html>PK_BB_event_merge_c</A>, <A HREF=../headers/pk_bb_event_t.html>PK_BB_event_split_c</A>, <A HREF=../headers/pk_bb_event_t.html>PK_BB_event_copy_c</A>
and <A HREF=../headers/pk_bb_event_t.html>PK_BB_event_transfer_c</A> all have more than one entity involved.  These
are in the order:

  <A HREF=../headers/pk_bb_event_t.html>PK_BB_event_merge_c</A>:
      the first entity is the surviving entity and subsequent entities
      are those which were deleted in the event.

  <A HREF=../headers/pk_bb_event_t.html>PK_BB_event_split_c</A>:
      the first entity is the entity which was split and subsequent entities
      are those which were created in this event.

  <A HREF=../headers/pk_bb_event_t.html>PK_BB_event_copy_c</A>:
      the first entity is the newly created entity and the second entity is
      the original which was copied.

  <A HREF=../headers/pk_bb_event_t.html>PK_BB_event_transfer_c</A>:
      the first entity is the entity whose ownership has been transferred
      and the second entity is the former owner.

If the current status of the bulletin board is <A HREF=../headers/pk_bb_status_t.html>PK_BB_status_user_field_c</A>
then the user fields will be returned in the array <B>'user_fields'</B>.  The length
of user fields per entity is set in <A HREF=../headers/pk_session_start_o_t.html>PK_SESSION_start_o_t</A> and it can be
found by calling <A HREF=../headers/pk_session_ask_user_field_len.html>PK_SESSION_ask_user_field_len</A>.  If the length of user fields
is u then the length of <B>'user_fields'</B> is u * <B>'n_entities'</B>.  Each u entries in
<B>'user_fields'</B> is asociated with an entity from <B>'entities'</B>.

See also <A HREF="../chapters/fd_chap.101.html#50409891_pgfId-294974">Output of bulletin board information</A> for more information.


</PRE>

<SCRIPT type="text/JavaScript" language="JavaScript">
<!-- 
// Change date to a readable format
function to_utc(date)
{var utc = date.toUTCString();return utc;}

// get last modified date of the current document.
function date_lastmodified()
{var mod = document.lastModified, s = "Unknown", d1;
 if(0 != (d1=Date.parse(mod)))
  {s = to_utc(new Date(d1));}
 return s;}	
// display the last modified date
document.write("<ADDRESS>Generated on: " + date_lastmodified() + "</ADDRESS>");
// -->
</SCRIPT>
</BODY>
</HTML>
