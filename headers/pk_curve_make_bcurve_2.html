<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"><HTML>
<HEAD>
<TITLE>PK_CURVE_make_bcurve_2</TITLE>
<LINK rel="stylesheet" href="../ps_doc.css">
</HEAD>
<BODY bgcolor="#ffffff" link="#0F3A68" vlink="#878787" alink="#FF7600" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0" background="../images/background.gif">
<A NAME="topofdoc"></A>

<TABLE cellpadding=0 cellspacing=0 border=0 width=100%>
  <TR>
    <TD>&nbsp;<IMG src="../graphics/psbar_l.gif" border=0></TD>
    <TD align=RIGHT valign=CENTER>
        <FONT face="helvetica,arial" SIZE=5 class=NS28pt>
        <B>PK_CURVE_make_bcurve_2</B></FONT></TD>
    <TD>&nbsp;&nbsp;</TD>
  </TR>
</TABLE>

<A NAME="endofcontents"></A>
<PRE>

<A NAME="declaration"></A><B><A HREF=../headers/pk_error_code_t.html>PK_ERROR_code_t</A>                 PK_CURVE_make_bcurve_2
(
<I>--- received arguments ---
</I><A HREF=../headers/pk_curve_t.html>PK_CURVE_t</A>                      curve,         --- curve
<A HREF=../headers/pk_interval_t.html>PK_INTERVAL_t</A>                   range,         --- curve interval
const <A HREF=../headers/pk_curve_make_bcurve_o_t.html>PK_CURVE_make_bcurve_o_t</A> *options,       --- option structure [PF]

<I>--- returned arguments ---
</I><A HREF=../headers/pk_curve_make_bcurve_t.html>PK_CURVE_make_bcurve_t</A>   *const status,        --- status
<A HREF=../headers/pk_bcurve_t.html>PK_BCURVE_t</A>              *const bcurve,        --- created BCURVE
double                   *const achieved_tol,  --- achieved tolerance
<A HREF=../headers/pk_achieved_cont_t.html>PK_achieved_cont_t</A>       *const achieved_cont  --- achieved continuity
)
</B>
<A NAME="description"></A>
<I>This function creates a B-curve which is coincident with the given parametric
<B>'range'</B> of the given <B>'curve'</B>.

This function offers partial support for facet geometry [PF]
</I>
<A NAME="errors"></A>
<B>Specific Errors:</B>

    PK_ERROR_cant_make_bspline     (MILD)  Failed to create geometry.
    PK_ERROR_zero_interval         (MILD)  Input <B>'range'</B> has zero extent.
    PK_ERROR_bad_order             (MILD)  Input <B>'degree'</B> is invalid.
    PK_ERROR_bad_combination       (MILD)  The supplied <B>'continuity'</B> is
                                           incompatible with the <B>'degree'</B>.
    PK_ERROR_facet_geometry        (MILD)  Input <B>'curve'</B> is a polyline and
                                           unsupported <B>'have_degree'</B> or
                                           <B>'force_continuity'</B> has been set in
                                           <B>'options'</B>.

<A NAME="documentation"></A>
The resulting <B>'bcurve'</B> will be exactly coincident with the given <B>'curve'</B> if
possible. Where this is not possible, the maximum distance between <B>'curve'</B> and
<B>'bcurve'</B> will be limited by <B>'tolerance'</B>. The function will usually achieve this
condition but this is not guaranteed.

If an exact result does not match the specified continuity, an approximation
will be used.

Finer control over the form of the resulting <B>'bcurve'</B> can be provided through
the option structure.

The resulting <B>'bcurve'</B> will be in the current partition.

  Notes for specific classes of <B>'curve'</B>
  =====================================

             Line:  Unless the <B>'have_degree'</B> option is set, <B>'bcurve'</B> will be
                    linear (degree 1). The result will always be exact.

   Circle/Ellipse:  The result will be cubic by default, and exact unless the
                    <B>'force_non_rational'</B> option is set. The parameterisation
                    of the input <B>'curve'</B> may not be preserved.

          B-curve:  Unless you specify the degree of the output <B>'bcurve'</B>, using
                    the <B>'have_degree'</B> and <B>'degree'</B> option fields, the output
                    <B>'bcurve'</B> will have the same degree as the input <B>'curve'</B> if
                    the result is exact.

                    The result will be an approximation if and only if any of
                    the following are true:
                      o The degree is lowered (note that increasing the degree
                        can be done with an exact result).
                      o The input <B>'curve'</B> is rational and the
                        <B>'force_non_rational'</B> option is true, except in the
                        special case when all the weights of the rational curve
                        are equal.
                      o Any discontinuities are eliminated (via the
                        <B>'force_continuity'</B> option).

  Intersection/SP:  The output will usually be approximate (and cubic by
                    default) unless the <B>'curve'</B> coincides with a constant
                    parameter line of an underlying B-surface. In this case
                    the options will apply to the extracted B-curve and an
                    exact result will be possible in some cases.

         Polyline:  The output <B>'bcurve'</B> will be piecewise linear (degree 1) and
                    the result will be exact. If either the <B>'have_degree'</B>
                    option or <B>'force_continuity'</B> option is set to an
                    unsupported value, then the function will fail with
                    PK_ERROR_facet_geometry.


</PRE>

<SCRIPT type="text/JavaScript" language="JavaScript">
<!-- 
// Change date to a readable format
function to_utc(date)
{var utc = date.toUTCString();return utc;}

// get last modified date of the current document.
function date_lastmodified()
{var mod = document.lastModified, s = "Unknown", d1;
 if(0 != (d1=Date.parse(mod)))
  {s = to_utc(new Date(d1));}
 return s;}	
// display the last modified date
document.write("<ADDRESS>Generated on: " + date_lastmodified() + "</ADDRESS>");
// -->
</SCRIPT>
</BODY>
</HTML>
